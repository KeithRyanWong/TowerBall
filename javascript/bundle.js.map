{"version":3,"sources":["webpack:///webpack/bootstrap 40e9ae9bdc5e97bfd3fb","webpack:///./javascript/util.js","webpack:///./javascript/towerball.js","webpack:///./javascript/game.js","webpack:///./javascript/block.js","webpack:///./javascript/gravnode.js","webpack:///./javascript/basket.js","webpack:///./javascript/gameview.js","webpack:///./javascript/user.js","webpack:///./javascript/ball.js","webpack:///./javascript/powerbar.js","webpack:///./javascript/anglebar.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AAAA;AAAA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AAAA;AAAA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,E;;;;;;;;;;;;;AC3EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;ACdD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,O;AACA;AACA;AACA;AACA,O;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,kBAAkB,uBAAuB;AACzC,wBAAwB,uBAAuB;;AAE/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,+D;;;;;;;;ACnKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB;AACA;AACA;AACA,OAAO;AACP,mB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gE;;;;;;;;AC1EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB;AACA;AACA;AACA,OAAO;AACP,mB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mE;;;;;;;;ACrEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB;AACA;AACA;AACA,OAAO;AACP,mB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iE;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,uB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA,mE;;;;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,SAAS,qBAAqB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,+D;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+D;;;;;;;AClCA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,mE;;;;;;;ACxBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,mE","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 40e9ae9bdc5e97bfd3fb","export const randColor = () => ( \n  '#' + Math.floor(Math.random()*16777215).toString(16) \n);\n\nexport const rand = (min, max) => {\n  return Math.floor(Math.random() * (max - min)) + min;\n};\n\n\nexport const centerOfGravity = (tower) => {\n  // let parent = tower.shift();\n  let datum = tower[0].position.x;\n  let weights = [];\n  let distances = [];\n  let moments = [];\n\n  tower.forEach((obj, i) => {\n    weights.push(obj.area);\n    distances.push(((obj.w / 2.0) + obj.position.x) - datum);\n    moments.push(weights[i] * distances[i]);\n  });\n\n  let moment = moments.reduce((sum, objMoment) => (sum + objMoment), 0);\n  let weight = weights.reduce((sum, objWeight) => (sum + objWeight), 0);\n  \n  return (moment / weight) + datum;\n};\n\nexport const validPlacement = (tower) => {\n  for (let i = tower.length - 1; i > 0; i--) {\n    let CoGOfLastBlock = centerOfGravity(tower.slice(i));\n    let bottomBlock = tower[i - 1];\n    let bound1 = bottomBlock.position.x;\n    let bound2 = bottomBlock.position.x + bottomBlock.w;\n    //switch parity of variable to constrain within valid CoG\n    if(CoGOfLastBlock < (bound1) - 10 || CoGOfLastBlock > (bound2) + 10) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const collisionDetected = (block, block2) => {\n  let yCollision1 = ( \n      block.bounds().top < block2.bounds().bottom &&\n      block.bounds().bottom > block2.bounds().bottom \n  ) || ( \n      block.bounds().top < block2.bounds().top &&\n      block.bounds().bottom > block2.bounds().top\n  ); \n  let yCollision2 = ( \n      block2.bounds().top < block.bounds().bottom &&\n      block2.bounds().bottom > block.bounds().bottom \n  ) || ( \n      block2.bounds().top < block.bounds().top &&\n      block2.bounds().bottom > block.bounds().top\n  ); \n\n  let xCollision1 = ( \n      block.bounds().left < block2.bounds().left &&\n      block.bounds().right > block2.bounds().left\n  ) || (\n      block.bounds().left < block2.bounds().right &&\n      block.bounds().right > block2.bounds().right\n  );\n  let xCollision2 = ( \n      block2.bounds().left < block.bounds().left &&\n      block2.bounds().right > block.bounds().left\n  ) || (\n      block2.bounds().left < block.bounds().right &&\n      block2.bounds().right > block.bounds().right\n  );\n\n\n  return((yCollision1 && xCollision1) || (yCollision2 && xCollision2));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/util.js\n// module id = 0\n// module chunks = 0","import Game from './game';\nimport GameView from './gameview';\nimport User from './user';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById(\"main\");\n  const height = canvas.clientHeight;\n  const width = canvas.clientWidth;\n  const ctx = canvas.getContext('2d');\n  \n  const game = new Game(width, height);\n  const user = new User(ctx, width, height, game);\n  const gameview = new GameView(game, user, ctx, width, height);\n  gameview.start();\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/towerball.js\n// module id = 1\n// module chunks = 0","import * as Util from './util';\nimport Block from './block';\nimport GravNode from './gravnode';\nimport Basket from './basket';\n\n\nclass Game {\n  constructor(DIM_X, DIM_Y){\n    // this.user = user;\n    this.DIM_X = DIM_X;\n    this.DIM_Y = DIM_Y;\n    this.origin = {\n      x: this.getX.bind(this),\n      y: this.getY.bind(this)\n    };\n\n    this.tower = this.setTower();\n\n    const canvas = document.getElementById(\"main\");\n    // document.addEventListener('keypress', this.setPower.bind(this));\n  }\n\n\n\n  registerHit(position) {\n\n    //update count\n    // e.preventDefault();\n    let width = document.getElementsByTagName('body')[0].clientWidth;\n    let margin = Math.floor((width - this.DIM_X) / 2);\n    let canvasX = position.x;\n    let canvasY = position.y;\n    // let canvasX = e.pageX - margin;\n    // let canvasY = e.pageY - 20;\n    this.tower.forEach((object, i) => {\n      if (i !== 0 && object.occupies(canvasX, canvasY)){\n        if(i === this.tower.length-1){\n          this.gameWon();\n        }\n        this.tower.splice(i, 1);\n      }\n    });\n  }\n\n  getX() {\n    let body = document.getElementsByTagName('body')[0];\n    let origin = Math.floor((body.clientWidth - this.DIM_X) / 2);\n    return origin;\n  }\n\n  getY () {\n    return 20;\n  }\n\n\n  setTower() {\n    const tower = [];\n    const mid = Math.floor(this.DIM_X / 2);\n    const base = Math.floor(this.DIM_Y * 0.70);\n    const mark = {\n      x: Math.floor(mid - this.DIM_X * 0.15),\n      y: base\n    };\n\n    tower.push(new GravNode(mark.x, mark.y, mark.x, 500));\n    this.generateBlocks(tower, mark);\n    this.placeBasket(tower, mark);\n    return tower;\n  }\n\n  generateBlocks(tower, mark) {\n    let attempts = 0;\n\n    while (tower.length < 6) {\n      let lastMarkY = mark.y;\n      let delta = Util.rand(30, 70);\n      mark.y -= delta  ;\n\n      let block = new Block(mark.x + Util.rand(0, mark.x), mark.y, Util.rand(20, 120), delta);\n      tower.push(block);\n\n      if(!Util.validPlacement(tower)) {\n        mark.y = lastMarkY;\n        tower.pop();\n      }      \n      attempts += 1;\n      if (attempts > 1000) {\n        break;\n      } \n    }\n  }\n\n  placeBasket(tower, mark) {\n    mark.y -= 32;\n    const lastBlock = tower[tower.length - 1];\n    let block = new Basket(lastBlock.position.x + Util.rand(-9, lastBlock.w - 11), mark.y, 20, 30);\n    tower.push(block);\n  }\n\n  cycle() {\n    this.applyGravity();\n    this.moveObjects();\n    this.resolveCollisions();\n    return;\n  }\n\n  draw(ctx){\n    this.tower.forEach((obj) => {\n      obj.draw(ctx);\n    });\n  }\n\n  moveObjects() {\n    this.tower.forEach((obj) => {\n      if (obj.velocity) {\n        obj.position.y += obj.velocity.y;\n      }\n    });\n\n    let lastBlock = this.tower[this.tower.length - 1];\n    if (lastBlock instanceof Basket && lastBlock.bounds().bottom > Math.floor(this.DIM_Y * 0.70) - 10) {\n      this.gameLost();\n    }\n  }\n\n  applyGravity() {\n    this.tower.forEach((obj) => {\n      if (obj.velocity) {\n        obj.velocity.y = Math.floor((obj.velocity.y + 1));\n      }\n    });\n  }\n\n  resolveCollisions() {\n    for(let i = 0; i < this.tower.length; i++) {\n      for(let j = i + 1; j < this.tower.length; j++){\n\n        let bottomBlock = this.tower[i];\n        let block = this.tower[j];\n        if(Util.collisionDetected(bottomBlock, block)){\n          let lowerBlock = bottomBlock.bounds().bottom > block.bounds().bottom ? bottomBlock : block;\n          let higherBlock = lowerBlock === bottomBlock ? block : bottomBlock;\n          higherBlock.position.y = lowerBlock.bounds().top - higherBlock.h;\n    \n          higherBlock.velocity.y = 0;\n          i = 0;\n        }\n      }\n    }\n  }\n\n  gameWon() {\n    document.getElementById('message').innerText = 'Nice Shot!';\n    document.getElementById('message').className = '';\n  }\n  gameLost() {\n    document.getElementById('message').innerText = 'Better luck next time ';\n    document.getElementById('message').className = '';\n  }\n}\n\n\n\nexport default Game;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/game.js\n// module id = 2\n// module chunks = 0","import * as Util from './util';\n\nclass Block {\n  constructor(x, y, w, h) {\n    this.position = {\n      x,\n      y\n    };\n    this.w = w;\n    this.h = h;\n    // this.bounds = {\n    //   1: [x, y],\n    //   2: [x + w, y],\n    //   3: [x + w, y + h],\n    //   4: [x, y + h]\n    // };\n    this.color = Util.randColor();\n    this.area = w * h;\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  bounds(){\n    let { x, y } = this.position;\n    let w = this.w;\n    let h = this.h;\n    return {\n      left: x,\n      right: x + w,\n      top: y,\n      bottom: y + h,\n      upperLeft: { \n        x, \n        y \n      },\n      upperRight: { \n        x: x + w, \n        y\n      },\n      bottomLeft: {\n        x: x + w, \n        y: y + h\n      },\n      bottomRight: {\n        x, \n        y: y + h\n      }\n    };\n  }\n\n  occupies(x, y) {\n    return x > this.bounds().left && x < this.bounds().right &&\n           y > this.bounds().top && y < this.bounds().bottom;\n  }\n\n  draw(ctx) {\n    let {x, y} = this.position;\n    ctx.beginPath();\n    // ctx.lineWidth = 1;\n    // ctx.strokeStyle = '#000000';\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + this.w , y);\n    ctx.lineTo(x + this.w, y + this.h);\n    ctx.lineTo(x, y + this.h);\n    ctx.lineTo(x, y);\n    // ctx.stroke();\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n\nexport default Block;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/block.js\n// module id = 3\n// module chunks = 0","import * as Util from './util';\n\nclass GravNode {\n  constructor(x, y, w, h) {\n    this.position = {\n      x,\n      y\n    };\n    this.w = w;\n    this.h = h;\n    // this.bounds = {\n    //   1: [x, y],\n    //   2: [x + w, y],\n    //   3: [x + w, y + h],\n    //   4: [x, y + h]\n    // };\n    this.color = Util.randColor();\n    this.area = w * h;\n  }\n\n  occupies(x, y) {\n    return false;\n  }\n\n  bounds(){\n    let { x, y } = this.position;\n    let w = this.w;\n    let h = this.h;\n    return {\n      left: x,\n      right: x + w,\n      top: y,\n      bottom: y + h,\n      upperLeft: { \n        x, \n        y \n      },\n      upperRight: { \n        x: x + w, \n        y\n      },\n      bottomLeft: {\n        x: x + w, \n        y: y + h\n      },\n      bottomRight: {\n        x, \n        y: y + h\n      }\n    };\n  }\n\n  draw(ctx) {\n    let {x, y} = this.position;\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = '#000000';\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + this.w , y);\n    ctx.lineTo(x + this.w, y + this.h);\n    ctx.lineTo(x, y + this.h);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n\nexport default GravNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/gravnode.js\n// module id = 4\n// module chunks = 0","import * as Util from './util';\n\nclass Basket {\n  constructor(x, y, w, h) {\n    this.position = {\n      x,\n      y\n    };\n    this.w = w;\n    this.h = h;\n    \n    this.color = 'black';\n    this.area = w * h;\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  occupies(x, y) {\n    return x > this.bounds().left && x < this.bounds().right &&\n           y > this.bounds().top && y < this.bounds().bottom;\n  }\n\n  \n  bounds(){\n    let { x, y } = this.position;\n    let w = this.w;\n    let h = this.h;\n    return {\n      left: x,\n      right: x + w,\n      top: y,\n      bottom: y + h,\n      upperLeft: { \n        x, \n        y \n      },\n      upperRight: { \n        x: x + w, \n        y\n      },\n      bottomLeft: {\n        x: x + w, \n        y: y + h\n      },\n      bottomRight: {\n        x, \n        y: y + h\n      }\n    };\n  }\n\n  draw(ctx) {\n    let {x, y} = this.position;\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = '#000000';\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + this.w , y);\n    ctx.lineTo(x + this.w, y + this.h);\n    ctx.lineTo(x, y + this.h);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n\nexport default Basket;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/basket.js\n// module id = 5\n// module chunks = 0","\nclass GameView {\n  constructor(game, user, ctx, w, h) {\n    this.game = game;\n    this.ctx = ctx;\n    this. w = w;\n    this.h = h;\n    this.user = user;\n  }\n  \n\n  start() {\n    \n    setInterval(() => { \n      this.ctx.clearRect(0, 0, this.w, this.h);\n      this.game.cycle();\n      this.user.drawBehind(this.ctx);\n      this.game.draw(this.ctx);\n      this.user.cycle();\n      this.user.draw(this.ctx);\n    }, 30);\n    \n  }\n}\n\nexport default GameView;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/gameview.js\n// module id = 6\n// module chunks = 0","import Ball from './ball';\nimport PowerBar from './powerbar';\nimport AngleBar from './anglebar';\n\nclass User {\n  constructor(ctx, w, h, game) {\n    this.w = w;\n    this.h = h;\n    this.ctx = ctx;\n    this.game = game;\n    // let width = document.getElementsByTagName('body')[0].clientWidth;\n    // let margin = Math.floor((width - this.DIM_X) / 2);\n    this.ball = new Ball(w / 2, h - 20);\n    this.power = 0;\n    this.angle = 0;\n    document.addEventListener('keypress', this.setPower.bind(this));\n    \n    this.powerBar = new PowerBar();\n    this.angleBar = new AngleBar();\n    this.interval;\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n\n    this.before = true;\n    \n  }\n\n  listen() {\n    \n  }\n\n  setPower(e){\n    e.preventDefault();\n\n    let power = document.getElementById('power');\n    let currentPower = parseInt(power.value);\n    let angle = document.getElementById('angle');\n    let currentAngle = parseInt(angle.value);\n\n    if(e.keyCode === 32 && this.power === 0) {\n      this.velocity.y = (-(currentPower * .3));\n      this.power = currentPower;\n      clearInterval(this.powerBar.interval);\n      this.interval =  setInterval(() => this.angleBar.setPower(), 10);\n    } else if(e.keyCode === 32 && this.angle === 0) {\n      this.velocity.x = ((currentAngle - 50) * 0.1);\n      this.angle = currentAngle;\n      clearInterval(this.interval);\n      this.applySpeed();\n    }\n\n  }\n\n  cycle() {\n    this.moveBall();\n  }\n\n  applySpeed() {\n    this.ball.velocity.y = this.velocity.y;\n    this.ball.velocity.x = this.velocity.x;\n\n    this.interval = setInterval(() => {\n      this.ball.velocity.y += 0.20;\n      this.ball.position.z += 0.05 * 100 / this.power;\n    }, 10);\n\n    setTimeout(() => {\n      this.game.registerHit(this.ball.position);\n      this.before = false;\n      //log hit and reset\n      setTimeout(() => {\n        clearInterval(this.interval);\n        this.reset.call(this);\n      }, 1000);\n    }, 2200 * (this.power / 100));\n  }\n\n  moveBall() {\n    let { position, velocity } = this.ball;\n    position.x += velocity.x;\n    position.y += velocity.y;\n    // velocity.y += velocity.y;\n  }\n\n  draw(ctx) {\n    if (this.before) this.ball.draw(ctx, 0);\n  }\n  drawBehind(ctx) {\n    if (!this.before) this.ball.draw(ctx, 0);\n  }\n\n\n  reset() {\n    this.ball = new Ball(this.w / 2,this.h - 20);\n    this.before = true;\n    this.powerBar = new PowerBar();\n    this.angleBar = new AngleBar();\n    this.power = 0;\n    this.angle = 0;\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n  }\n}\n\n\nexport default User;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/user.js\n// module id = 7\n// module chunks = 0","class Ball {\n  constructor(x, y) {\n    this.position = {\n      x,\n      y,\n      z: 0\n    };\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n    this.color = '#ED6050';\n    this.radius = 20;\n\n    \n  }\n\n  draw(ctx) {\n    ctx.fillStyle = '#' + Math.floor(Math.random()*10 + 500).toString(16) ;\n    ctx.beginPath();\n\n    ctx.arc(\n      this.position.x,\n      this.position.y,\n      (this.radius - this.position.z),\n      0,\n      2 * Math.PI,\n      false\n    );\n\n    ctx.fill();\n  }\n}\n\nexport default Ball;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/ball.js\n// module id = 8\n// module chunks = 0","class PowerBar {\n  constructor() {\n    this.direction = 1;\n\n    this.interval = setInterval(() => {\n      this.setPower();\n    }, 10);\n  }\n  \n  setPower(){\n    let power = document.getElementById('power');\n    let currentPower = parseInt(power.value);\n    if ( currentPower >= 100 ) {\n      this.direction = -1;\n    } else if (currentPower <= 1) {\n      this.direction = 1;\n    }\n\n    currentPower += this.direction;\n\n    power.value = currentPower;\n  }\n}\n\nexport default PowerBar;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/powerbar.js\n// module id = 9\n// module chunks = 0","class AngleBar {\n  constructor() {\n    this.direction = 1;\n  }\n  \n  setPower(){\n    let angle = document.getElementById('angle');\n    let currentAngle = parseInt(angle.value);\n    if ( currentAngle >= 100 ) {\n      this.direction = -1;\n    } else if (currentAngle <= 0) {\n      this.direction = 1;\n    }\n\n    currentAngle += this.direction;\n\n    angle.value = currentAngle;\n  }\n}\n\nexport default AngleBar;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript/anglebar.js\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}